{"ast":null,"code":"import _objectSpread from\"/Users/nguyenvancong/Desktop/my-page/clients/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/nguyenvancong/Desktop/my-page/clients/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useCallback}from'react';import{Card,CardHeader,CardContent,CardActions,Button}from'@material-ui/core';import FormInput from'components/common/input/FormInput';import{registerUser}from'services/userService';import{useHistory}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Register(){var history=useHistory();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState({message:'',status:false}),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];// Handle register\nvar handleRegister=useCallback(function(){registerUser({email:email,password:password}).then(function(data){if(data.user){history.push('/login');}}).catch(function(error){setError(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{message:error.message,status:true});});}).finally(function(){});},[email,password,history]);return/*#__PURE__*/_jsxs(\"div\",{className:\"register login\",children:[error.status&&/*#__PURE__*/_jsx(\"span\",{children:error.message}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(CardHeader,{title:\"Register\"}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(\"form\",{noValidate:true,autoComplete:\"off\",children:[/*#__PURE__*/_jsx(FormInput,{label:\"Email\",name:\"email\",setData:setEmail}),/*#__PURE__*/_jsx(FormInput,{label:\"Password\",name:\"password\",setData:setPassword,type:\"password\"})]})}),/*#__PURE__*/_jsx(CardActions,{children:/*#__PURE__*/_jsx(Button,{color:\"primary\",size:\"large\",onClick:handleRegister,children:\"Register\"})})]})]});}export default Register;","map":{"version":3,"sources":["/Users/nguyenvancong/Desktop/my-page/clients/src/components/pages/register/Register.jsx"],"names":["React","useState","useCallback","Card","CardHeader","CardContent","CardActions","Button","FormInput","registerUser","useHistory","Register","history","email","setEmail","password","setPassword","message","status","error","setError","handleRegister","then","data","user","push","catch","prevState","finally"],"mappings":"qUAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,WAA1B,KAA6C,OAA7C,CACA,OAASC,IAAT,CAAeC,UAAf,CAA2BC,WAA3B,CAAwCC,WAAxC,CAAqDC,MAArD,KAAmE,mBAAnE,CACA,MAAOC,CAAAA,SAAP,KAAsB,mCAAtB,CACA,OAASC,YAAT,KAA6B,sBAA7B,CACA,OAASC,UAAT,KAA2B,kBAA3B,C,wFAEA,QAASC,CAAAA,QAAT,EAAoB,CAClB,GAAMC,CAAAA,OAAO,CAAGF,UAAU,EAA1B,CACA,cAA0BT,QAAQ,CAAC,EAAD,CAAlC,wCAAOY,KAAP,eAAcC,QAAd,eACA,eAAgCb,QAAQ,CAAC,EAAD,CAAxC,yCAAOc,QAAP,eAAiBC,WAAjB,eACA,eAA0Bf,QAAQ,CAAC,CAAEgB,OAAO,CAAE,EAAX,CAAeC,MAAM,CAAE,KAAvB,CAAD,CAAlC,yCAAOC,KAAP,eAAcC,QAAd,eAEA;AACA,GAAMC,CAAAA,cAAc,CAAGnB,WAAW,CAAC,UAAM,CACvCO,YAAY,CAAC,CAAEI,KAAK,CAALA,KAAF,CAASE,QAAQ,CAARA,QAAT,CAAD,CAAZ,CACGO,IADH,CACQ,SAACC,IAAD,CAAU,CACd,GAAIA,IAAI,CAACC,IAAT,CAAe,CACbZ,OAAO,CAACa,IAAR,CAAa,QAAb,EACD,CACF,CALH,EAMGC,KANH,CAMS,SAACP,KAAD,CAAW,CAChBC,QAAQ,CAAC,SAACO,SAAD,wCACJA,SADI,MAEPV,OAAO,CAAEE,KAAK,CAACF,OAFR,CAGPC,MAAM,CAAE,IAHD,IAAD,CAAR,CAKD,CAZH,EAaGU,OAbH,CAaW,UAAM,CAAE,CAbnB,EAcD,CAfiC,CAe/B,CAACf,KAAD,CAAQE,QAAR,CAAkBH,OAAlB,CAf+B,CAAlC,CAiBA,mBACE,aAAK,SAAS,CAAC,gBAAf,WACGO,KAAK,CAACD,MAAN,eAAgB,sBAAOC,KAAK,CAACF,OAAb,EADnB,cAEE,MAAC,IAAD,yBACE,KAAC,UAAD,EAAY,KAAK,CAAC,UAAlB,EADF,cAEE,KAAC,WAAD,wBACE,cAAM,UAAU,KAAhB,CAAiB,YAAY,CAAC,KAA9B,wBACE,KAAC,SAAD,EAAW,KAAK,CAAC,OAAjB,CAAyB,IAAI,CAAC,OAA9B,CAAsC,OAAO,CAAEH,QAA/C,EADF,cAEE,KAAC,SAAD,EAAW,KAAK,CAAC,UAAjB,CAA4B,IAAI,CAAC,UAAjC,CAA4C,OAAO,CAAEE,WAArD,CAAkE,IAAI,CAAC,UAAvE,EAFF,GADF,EAFF,cAQE,KAAC,WAAD,wBACE,KAAC,MAAD,EAAQ,KAAK,CAAC,SAAd,CAAwB,IAAI,CAAC,OAA7B,CAAqC,OAAO,CAAEK,cAA9C,sBADF,EARF,GAFF,GADF,CAmBD,CAED,cAAeV,CAAAA,QAAf","sourcesContent":["import React, { useState, useCallback } from 'react'\nimport { Card, CardHeader, CardContent, CardActions, Button } from '@material-ui/core'\nimport FormInput from 'components/common/input/FormInput'\nimport { registerUser } from 'services/userService'\nimport { useHistory } from 'react-router-dom'\n\nfunction Register() {\n  const history = useHistory()\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const [error, setError] = useState({ message: '', status: false })\n\n  // Handle register\n  const handleRegister = useCallback(() => {\n    registerUser({ email, password })\n      .then((data) => {\n        if (data.user) {\n          history.push('/login')\n        }\n      })\n      .catch((error) => {\n        setError((prevState) => ({\n          ...prevState,\n          message: error.message,\n          status: true\n        }))\n      })\n      .finally(() => {})\n  }, [email, password, history])\n\n  return (\n    <div className=\"register login\">\n      {error.status && <span>{error.message}</span>}\n      <Card>\n        <CardHeader title=\"Register\" />\n        <CardContent>\n          <form noValidate autoComplete=\"off\">\n            <FormInput label=\"Email\" name=\"email\" setData={setEmail} />\n            <FormInput label=\"Password\" name=\"password\" setData={setPassword} type=\"password\" />\n          </form>\n        </CardContent>\n        <CardActions>\n          <Button color=\"primary\" size=\"large\" onClick={handleRegister}>\n            Register\n          </Button>\n        </CardActions>\n      </Card>\n    </div>\n  )\n}\n\nexport default Register\n"]},"metadata":{},"sourceType":"module"}