{"ast":null,"code":"import _objectSpread from\"/Users/nguyenvancong/Desktop/my-page/clients/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/nguyenvancong/Desktop/my-page/clients/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import'./Blog.css';import{Grid,Button}from'@material-ui/core';import PostItem from'./PostItem';import{useDispatch,useSelector}from'react-redux';import ModalCreatePost from'./createPost/ModalCreatePost';import{getAllPost}from'services/postService';import{openModal}from'redux/actions/modalAction';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ADMIN_EMAIL='taroinjapan_admin@gmail.com';function Blog(){var dispatch=useDispatch();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState({message:'',status:false}),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useSelector=useSelector(function(state){return state.userReducers;}),userInfo=_useSelector.userInfo;var _useSelector2=useSelector(function(state){return state.modalReducers;}),isOpen=_useSelector2.isOpen;//ComponentDidMount\nuseEffect(function(){getAllPost().then(function(data){if(data.data.length){setData(data.data);}}).catch(function(error){setError(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{message:error.message,status:true});});}).finally(function(){});},[dispatch]);return/*#__PURE__*/_jsxs(\"div\",{className:\"bl__container\",children:[error.status&&/*#__PURE__*/_jsx(\"span\",{children:error.message}),/*#__PURE__*/_jsxs(Grid,{children:[isOpen&&/*#__PURE__*/_jsx(ModalCreatePost,{isOpen:isOpen}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:12,children:/*#__PURE__*/_jsx(Grid,{container:true,justify:\"center\",children:data&&data.length?data.map(function(item,index){return/*#__PURE__*/_jsx(PostItem,{item:item,sttItem:index+1},index);}):''})})]}),userInfo&&userInfo.email===ADMIN_EMAIL&&/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return dispatch(openModal());},className:\"bl__btn-add\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-plus-circle\"})})]});}export default Blog;","map":{"version":3,"sources":["/Users/nguyenvancong/Desktop/my-page/clients/src/components/pages/blog/Blog.jsx"],"names":["React","useState","useEffect","Grid","Button","PostItem","useDispatch","useSelector","ModalCreatePost","getAllPost","openModal","ADMIN_EMAIL","Blog","dispatch","data","setData","message","status","error","setError","state","userReducers","userInfo","modalReducers","isOpen","then","length","catch","prevState","finally","map","item","index","email"],"mappings":"qUAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAO,YAAP,CACA,OAASC,IAAT,CAAeC,MAAf,KAA6B,mBAA7B,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,MAAOC,CAAAA,eAAP,KAA4B,8BAA5B,CACA,OAASC,UAAT,KAA2B,sBAA3B,CACA,OAASC,SAAT,KAA0B,2BAA1B,C,wFAEA,GAAMC,CAAAA,WAAW,CAAG,6BAApB,CAEA,QAASC,CAAAA,IAAT,EAAgB,CACd,GAAMC,CAAAA,QAAQ,CAAGP,WAAW,EAA5B,CACA,cAAwBL,QAAQ,CAAC,EAAD,CAAhC,wCAAOa,IAAP,eAAaC,OAAb,eACA,eAA0Bd,QAAQ,CAAC,CAAEe,OAAO,CAAE,EAAX,CAAeC,MAAM,CAAE,KAAvB,CAAD,CAAlC,yCAAOC,KAAP,eAAcC,QAAd,eACA,iBAAqBZ,WAAW,CAAC,SAACa,KAAD,QAAWA,CAAAA,KAAK,CAACC,YAAjB,EAAD,CAAhC,CAAQC,QAAR,cAAQA,QAAR,CACA,kBAAmBf,WAAW,CAAC,SAACa,KAAD,QAAWA,CAAAA,KAAK,CAACG,aAAjB,EAAD,CAA9B,CAAQC,MAAR,eAAQA,MAAR,CAEA;AACAtB,SAAS,CAAC,UAAM,CACdO,UAAU,GACPgB,IADH,CACQ,SAACX,IAAD,CAAU,CACd,GAAIA,IAAI,CAACA,IAAL,CAAUY,MAAd,CAAsB,CACpBX,OAAO,CAACD,IAAI,CAACA,IAAN,CAAP,CACD,CACF,CALH,EAMGa,KANH,CAMS,SAACT,KAAD,CAAW,CAChBC,QAAQ,CAAC,SAACS,SAAD,wCACJA,SADI,MAEPZ,OAAO,CAAEE,KAAK,CAACF,OAFR,CAGPC,MAAM,CAAE,IAHD,IAAD,CAAR,CAKD,CAZH,EAaGY,OAbH,CAaW,UAAM,CAAE,CAbnB,EAcD,CAfQ,CAeN,CAAChB,QAAD,CAfM,CAAT,CAiBA,mBACE,aAAK,SAAS,CAAC,eAAf,WACGK,KAAK,CAACD,MAAN,eAAgB,sBAAOC,KAAK,CAACF,OAAb,EADnB,cAEE,MAAC,IAAD,YACGQ,MAAM,eAAI,KAAC,eAAD,EAAiB,MAAM,CAAEA,MAAzB,EADb,cAEE,KAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,EAAf,CAAmB,EAAE,CAAE,EAAvB,uBACE,KAAC,IAAD,EAAM,SAAS,KAAf,CAAgB,OAAO,CAAC,QAAxB,UACGV,IAAI,EAAIA,IAAI,CAACY,MAAb,CACGZ,IAAI,CAACgB,GAAL,CAAS,SAACC,IAAD,CAAOC,KAAP,qBAAiB,KAAC,QAAD,EAAsB,IAAI,CAAED,IAA5B,CAAkC,OAAO,CAAEC,KAAK,CAAG,CAAnD,EAAeA,KAAf,CAAjB,EAAT,CADH,CAEG,EAHN,EADF,EAFF,GAFF,CAYGV,QAAQ,EAAIA,QAAQ,CAACW,KAAT,GAAmBtB,WAA/B,eACC,KAAC,MAAD,EAAQ,OAAO,CAAE,yBAAME,CAAAA,QAAQ,CAACH,SAAS,EAAV,CAAd,EAAjB,CAA8C,SAAS,CAAC,aAAxD,uBACE,UAAG,SAAS,CAAC,oBAAb,EADF,EAbJ,GADF,CAoBD,CAED,cAAeE,CAAAA,IAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport './Blog.css'\nimport { Grid, Button } from '@material-ui/core'\nimport PostItem from './PostItem'\nimport { useDispatch, useSelector } from 'react-redux'\nimport ModalCreatePost from './createPost/ModalCreatePost'\nimport { getAllPost } from 'services/postService'\nimport { openModal } from 'redux/actions/modalAction'\n\nconst ADMIN_EMAIL = 'taroinjapan_admin@gmail.com'\n\nfunction Blog() {\n  const dispatch = useDispatch()\n  const [data, setData] = useState([])\n  const [error, setError] = useState({ message: '', status: false })\n  const { userInfo } = useSelector((state) => state.userReducers)\n  const { isOpen } = useSelector((state) => state.modalReducers)\n\n  //ComponentDidMount\n  useEffect(() => {\n    getAllPost()\n      .then((data) => {\n        if (data.data.length) {\n          setData(data.data)\n        }\n      })\n      .catch((error) => {\n        setError((prevState) => ({\n          ...prevState,\n          message: error.message,\n          status: true\n        }))\n      })\n      .finally(() => {})\n  }, [dispatch])\n\n  return (\n    <div className=\"bl__container\">\n      {error.status && <span>{error.message}</span>}\n      <Grid>\n        {isOpen && <ModalCreatePost isOpen={isOpen} />}\n        <Grid item xs={12} sm={12}>\n          <Grid container justify=\"center\">\n            {data && data.length\n              ? data.map((item, index) => <PostItem key={index} item={item} sttItem={index + 1} />)\n              : ''}\n          </Grid>\n        </Grid>\n      </Grid>\n      {userInfo && userInfo.email === ADMIN_EMAIL && (\n        <Button onClick={() => dispatch(openModal())} className=\"bl__btn-add\">\n          <i className=\"fas fa-plus-circle\"></i>\n        </Button>\n      )}\n    </div>\n  )\n}\n\nexport default Blog\n"]},"metadata":{},"sourceType":"module"}